# Lab8
计32 程凯 2013011303

## 练习0 填写已有实验

> 已完成

## 练习1 完成读文件操作的实现

###练习1.1 请在实验报告中给出设计实现”UNIX的PIPE机制“的概要设方案，鼓励给出详细设计方案

> 概要设计方案

> - 可以基于信号量实现PIPE机制
> - 建立管道的时候，给发送和接收的进程绑定同一个描述符，并在OS内核中记录这个描述符
> - 新建与这个描述符对应的信号量
> - 每次发送的进程发送信息到管道，OS内核会在内存中缓冲这部分内容
> - 每次接收的进程从管道接收信息，OS内核会从缓冲中给予内容，否则进程进入阻塞

## 练习2 完成基于文件系统的执行程序机制的实现

###练习2.1 请在实验报告中给出设计实现基于”UNIX的硬链接和软链接机制“的概要设方案，鼓励给出详细设计方案

> 概要设计方案

> - 硬链接：在文件的描述符中加入一个指针位和一个指针。当一个文件是硬链接时，指针位置为1，指针指向该硬链接链接的文件
> - 软链接：拷贝文件对应的inode，复制一份相同的文件

## 与参考答案的区别：

> Exercise 1：参考答案有35行，比较长，反反复复判断几个边界问题。其实做好设计和规划，每次读写前，提前算清楚块编号、偏移量、长度，就可以最大限度做到代码复用，只需要简单几行。

> Exercise 2：较多一致的地方，实现细节不同。
> 
<br>
## 重要的知识点

> - 文件系统
> - VFS接口
> - 文件读写
> - 内存映射
> - 加载用户程序
> - 栈帧
> - 命令行参数



## OS原理中很重要但在实验中没有对应上的知识点
* 具体文件描述的了解与编写
* VFS提供的接口的了解与使用
